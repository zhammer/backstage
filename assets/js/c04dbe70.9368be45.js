/*! For license information please see c04dbe70.9368be45.js.LICENSE.txt */
"use strict";(self.webpackChunkbackstage_microsite=self.webpackChunkbackstage_microsite||[]).push([[202929],{603905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>m});var o=n(667294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=o.createContext({}),s=function(e){var t=o.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},l=function(e){var t=s(e.components);return o.createElement(u.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},f=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,u=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),p=s(n),f=r,m=p["".concat(u,".").concat(f)]||p[f]||d[f]||a;return n?o.createElement(m,i(i({ref:t},l),{},{components:n})):o.createElement(m,i({ref:t},l))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=f;var c={};for(var u in t)hasOwnProperty.call(t,u)&&(c[u]=t[u]);c.originalType=e,c[p]="string"==typeof e?e:r,i[1]=c;for(var s=2;s<a;s++)i[s]=n[s];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}f.displayName="MDXCreateElement"},89974:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>u,default:()=>f,frontMatter:()=>c,metadata:()=>s,toc:()=>p});n(827378);var o=n(603905);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function i(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const c={id:"creating-and-publishing",title:"Creating and publishing your docs",sidebar_label:"Creating and Publishing Documentation",description:"Guidance on how to create and publish documentation"},u=void 0,s={unversionedId:"features/techdocs/creating-and-publishing",id:"features/techdocs/creating-and-publishing",title:"Creating and publishing your docs",description:"Guidance on how to create and publish documentation",source:"@site/../docs/features/techdocs/creating-and-publishing.md",sourceDirName:"features/techdocs",slug:"/features/techdocs/creating-and-publishing",permalink:"/docs/features/techdocs/creating-and-publishing",draft:!1,editUrl:"https://github.com/backstage/backstage/edit/master/docs/../docs/features/techdocs/creating-and-publishing.md",tags:[],version:"current",frontMatter:{id:"creating-and-publishing",title:"Creating and publishing your docs",sidebar_label:"Creating and Publishing Documentation",description:"Guidance on how to create and publish documentation"},sidebar:"docs",previous:{title:"TechDocs Architecture",permalink:"/docs/features/techdocs/architecture"},next:{title:"TechDocs Configuration Options",permalink:"/docs/features/techdocs/configuration"}},l={},p=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Create a basic documentation setup",id:"create-a-basic-documentation-setup",level:2},{value:"Use any software template",id:"use-any-software-template",level:3},{value:"Use the documentation template",id:"use-the-documentation-template",level:3},{value:"Enable documentation for an already existing entity",id:"enable-documentation-for-an-already-existing-entity",level:3},{value:"Writing and previewing your documentation",id:"writing-and-previewing-your-documentation",level:2}],d={toc:p};function f(e){var{components:t}=e,c=i(e,["components"]);return(0,o.kt)("wrapper",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){r(e,t,n[t])}))}return e}({},d,c),{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"This section will guide you through how to:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#create-a-basic-documentation-setup"},"Create a basic documentation setup"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#use-any-software-template"},"Use any software template")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#use-the-documentation-template"},"Use the documentation template")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#enable-documentation-for-an-already-existing-entity"},"Enable documentation for an already existing entity")))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#writing-and-previewing-your-documentation"},"Writing and previewing your documentation"))),(0,o.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"A working Backstage instance with TechDocs installed (see\n",(0,o.kt)("a",{parentName:"li",href:"/docs/features/techdocs/getting-started"},"TechDocs getting started"),")")),(0,o.kt)("h2",{id:"create-a-basic-documentation-setup"},"Create a basic documentation setup"),(0,o.kt)("p",null,"If you have an existing repository that you'd like to add documentation to, skip\nto the\n",(0,o.kt)("a",{parentName:"p",href:"#enable-documentation-for-an-already-existing-entity"},"Enable documentation for an already existing entity setup"),"\nsection below. Otherwise, continue reading to create a new software entity\nincluding documentation from scratch."),(0,o.kt)("h3",{id:"use-any-software-template"},"Use any software template"),(0,o.kt)("p",null,"TechDocs is built on top of the\n",(0,o.kt)("a",{parentName:"p",href:"https://www.docslikecode.com/about/"},"docs like code approach"),". This, in short,\nmeans that you should keep documentation close to the code."),(0,o.kt)("p",null,"Your Backstage app has a set of software templates added by default. All of\nthese software templates include everything you need to get your TechDocs site\nup and running and to start writing your documentation."),(0,o.kt)("p",null,"If you have created software templates that do not include documentation by\ndefault, we highly recommend you to set that up. Follow our how-to guide\n",(0,o.kt)("a",{parentName:"p",href:"/docs/features/techdocs/how-to-guides#how-to-add-the-documentation-setup-to-your-software-templates"},"How to add documentation setup to your software templates"),"\nto get started."),(0,o.kt)("h3",{id:"use-the-documentation-template"},"Use the documentation template"),(0,o.kt)("p",null,"There could be ",(0,o.kt)("em",{parentName:"p"},"some")," situations where you don't want to keep your docs close to\nyour code, but still want to publish documentation - for example, an onboarding\ntutorial. For this use case, we have put together a documentation template. Your\nBackstage instance should by default have a documentation template added. If\nnot, copy the catalog locations from the\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/backstage/backstage/blob/master/packages/create-app/templates/default-app/app-config.yaml.hbs"},"create-app template"),"\nto add the documentation template. The template creates a component with\n",(0,o.kt)("strong",{parentName:"p"},"only")," TechDocs configuration and default markdown files, and is otherwise\nempty."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Documentation Template",src:n(590558).Z,width:"2880",height:"1548"})),(0,o.kt)("p",null,"Create an entity from the documentation template and you will get the needed\nsetup for free."),(0,o.kt)("h3",{id:"enable-documentation-for-an-already-existing-entity"},"Enable documentation for an already existing entity"),(0,o.kt)("p",null,"Prerequisites:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"An existing entity\n",(0,o.kt)("a",{parentName:"li",href:"/docs/features/software-catalog/#adding-components-to-the-catalog"},"registered in backstage"),"\n(e.g. via a ",(0,o.kt)("inlineCode",{parentName:"li"},"catalog-info.yaml")," file).")),(0,o.kt)("p",null,"Create an ",(0,o.kt)("inlineCode",{parentName:"p"},"mkdocs.yml")," file in the root of your repository with the following\ncontent:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},"site_name: 'example-docs'\n\nnav:\n  - Home: index.md\n\nplugins:\n  - techdocs-core\n")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Note - The plugins section above is optional. Backstage automatically adds the ",(0,o.kt)("inlineCode",{parentName:"p"},"techdocs-core")," plugin to the\nmkdocs file if it is missing. This functionality can be turned off with a ",(0,o.kt)("a",{parentName:"p",href:"/docs/features/techdocs/configuration"},"configuration option")," in Backstage.")),(0,o.kt)("p",null,"Update your component's entity description by adding the following lines to its\n",(0,o.kt)("inlineCode",{parentName:"p"},"catalog-info.yaml")," in the root of its repository:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},"metadata:\n  annotations:\n    backstage.io/techdocs-ref: dir:.\n")),(0,o.kt)("p",null,"The\n",(0,o.kt)("a",{parentName:"p",href:"/docs/features/software-catalog/well-known-annotations#backstageiotechdocs-ref"},(0,o.kt)("inlineCode",{parentName:"a"},"backstage.io/techdocs-ref")," annotation"),"\nis used by TechDocs to download the documentation source files for generating an\nentity's TechDocs site."),(0,o.kt)("p",null,"Create a ",(0,o.kt)("inlineCode",{parentName:"p"},"/docs")," folder in the root of your repository with at least an\n",(0,o.kt)("inlineCode",{parentName:"p"},"index.md")," file in it. ",(0,o.kt)("em",{parentName:"p"},"(If you add more markdown files, make sure to update the\nnav in the mkdocs.yml file to get a proper navigation for your documentation.)")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Note - Although ",(0,o.kt)("inlineCode",{parentName:"p"},"docs")," is a popular directory name for storing documentation,\nit can be renamed to something else and can be configured by ",(0,o.kt)("inlineCode",{parentName:"p"},"mkdocs.yml"),". See\n",(0,o.kt)("a",{parentName:"p",href:"https://www.mkdocs.org/user-guide/configuration/#docs_dir"},"https://www.mkdocs.org/user-guide/configuration/#docs_dir"))),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"docs/index.md")," can for example have the following content:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-md"},"# example docs\n\nThis is a basic example of documentation.\n")),(0,o.kt)("p",null,"Commit your changes, open a pull request and merge. You will now get your\nupdated documentation next time you run Backstage!"),(0,o.kt)("h2",{id:"writing-and-previewing-your-documentation"},"Writing and previewing your documentation"),(0,o.kt)("p",null,"Using the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/backstage/backstage/tree/master/packages/techdocs-cli"},"techdocs-cli")," you can\npreview your docs inside a local Backstage instance and get live reload on\nchanges. This is useful when you want to preview your documentation while\nwriting."),(0,o.kt)("p",null,"To do this you can run:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cd /path/to/docs-repository/\nnpx @techdocs/cli serve\n")))}f.isMDXComponent=!0},590558:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/documentation-template-c98610015ba2bb1209b3ef9819053b5a.png"},862525:e=>{var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(r){return!1}}()?Object.assign:function(e,a){for(var i,c,u=r(e),s=1;s<arguments.length;s++){for(var l in i=Object(arguments[s]))n.call(i,l)&&(u[l]=i[l]);if(t){c=t(i);for(var p=0;p<c.length;p++)o.call(i,c[p])&&(u[c[p]]=i[c[p]])}}return u}},541535:(e,t,n)=>{var o=n(862525),r=60103,a=60106;var i=60109,c=60110,u=60112;var s=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var p=Symbol.for;r=p("react.element"),a=p("react.portal"),p("react.fragment"),p("react.strict_mode"),p("react.profiler"),i=p("react.provider"),c=p("react.context"),u=p("react.forward_ref"),p("react.suspense"),s=p("react.memo"),l=p("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h={};function y(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||m}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,o(k,y.prototype),k.isPureReactComponent=!0;var w={current:null},v=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,n){var o,a={},i=null,c=null;if(null!=t)for(o in void 0!==t.ref&&(c=t.ref),void 0!==t.key&&(i=""+t.key),t)v.call(t,o)&&!O.hasOwnProperty(o)&&(a[o]=t[o]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var s=Array(u),l=0;l<u;l++)s[l]=arguments[l+2];a.children=s}if(e&&e.defaultProps)for(o in u=e.defaultProps)void 0===a[o]&&(a[o]=u[o]);return{$$typeof:r,type:e,key:i,ref:c,props:a,_owner:w.current}}function N(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var P=/\/+/g;function x(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,o,i){var c=typeof e;"undefined"!==c&&"boolean"!==c||(e=null);var u=!1;if(null===e)u=!0;else switch(c){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case r:case a:u=!0}}if(u)return i=i(u=e),e=""===o?"."+x(u,0):o,Array.isArray(i)?(n="",null!=e&&(n=e.replace(P,"$&/")+"/"),C(i,t,n,"",(function(e){return e}))):null!=i&&(N(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(P,"$&/")+"/")+e)),t.push(i)),1;if(u=0,o=""===o?".":o+":",Array.isArray(e))for(var s=0;s<e.length;s++){var l=o+x(c=e[s],s);u+=C(c,t,n,l,i)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),s=0;!(c=e.next()).done;)u+=C(c=c.value,t,n,l=o+x(c,s++),i);else if("object"===c)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function T(e,t,n){if(null==e)return e;var o=[],r=0;return C(e,o,"","",(function(e){return t.call(n,e,r++)})),o}function _(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var S={current:null};function D(){var e=S.current;if(null===e)throw Error(f(321));return e}},827378:(e,t,n)=>{n(541535)}}]);